"""
Python package file for util functions.
"""
import logging
import random
import string

logger = logging.getLogger(__name__)

def get_dict_defaults(d, *keys):
    for key in keys:
       d = d.get(key, d.get("", d.get("default", {})))
    return d

def rndstr(size=16, alphabet=""):
    """
    Returns a string of random ascii characters or digits
    :type size: int
    :type alphabet: str
    :param size: The length of the string
    :param alphabet: A string with characters.
    :return: string
    """
    rng = random.SystemRandom()
    if not alphabet:
        alphabet = string.ascii_letters[0:52] + string.digits
    return type(alphabet)().join(rng.choice(alphabet) for _ in range(size))
